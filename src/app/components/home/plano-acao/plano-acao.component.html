<app-breadcrumb [items]="['Home']" [active_item]="'Planos de Ação'"></app-breadcrumb>

<div class="container-fluid">
  <!-- Cards de Resumo -->
  <div class="row text-center">
    <div class="col-md-3">
      <div class="card">
        <div class="card-body">
          <h3>{{ totalPlanosAcao }}</h3>
          <p>Planos de Ação</p>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card">
        <div class="card-body">
          <h3 class="text-success">{{ concluidos }}</h3>
          <p>Concluídos</p>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card">
        <div class="card-body">
          <h3 class="text-warning">{{ emAndamento }}</h3>
          <p>Em Andamento</p>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card">
        <div class="card-body">
          <h3 class="text-danger">{{ atrasados }}</h3>
          <p>Atrasados</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Alternância entre Tabela e Gráficos -->
  <div class="row mt-4">
    <div class="col-md-12 text-end">
      <button class="btn btn-light" [ngClass]="{'active': currentView === 'table'}" (click)="switchView('table')">Tabela</button>
      <button class="btn btn-light" [ngClass]="{'active': currentView === 'dashboard'}" (click)="switchView('dashboard')">Gráficos</button>
    </div>
  </div>

  <!-- Tabela de Indicadores (exibida se 'currentView' for 'table') -->
  <div class="row mt-3" *ngIf="currentView === 'table'">
    <div class="col-md-12">
      <!-- Conteúdo dos Indicadores -->
      <div class="card mb-3">
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <span class="badge bg-light text-dark">Indicador 1 - Planos de Ação</span>
            <span class="text-danger">Atrasado</span> <!-- Aqui, status ao invés de porcentagem -->
          </div>

          <!-- Estratégias dentro do Indicador 1 -->
          <div class="mt-3">
            <p class="mb-1">Promover a formação continuada dos professores para a utilização de softwares educativos.</p>
            <span class="badge bg-warning">Em andamento</span> <!-- Status da estratégia -->
          </div>

          <div class="mt-3">
            <p class="mb-1">Incentivar a utilização de novas plataformas educacionais.</p>
            <span class="badge bg-success">Concluído</span> <!-- Status da estratégia -->
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-12">
      <div class="card mb-3">
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <span class="badge bg-light text-dark">Indicador 2 - Planos de Ação</span>
            <span class="text-warning">Em andamento</span> <!-- Status do indicador -->
          </div>

          <!-- Estratégias dentro do Indicador 2 -->
          <div class="mt-3">
            <p class="mb-1">Desenvolver novas metodologias de ensino com suporte digital.</p>
            <span class="badge bg-danger">Atrasado</span> <!-- Status da estratégia -->
          </div>

          <div class="mt-3">
            <p class="mb-1">Estabelecer parcerias com universidades para desenvolver tecnologias educacionais.</p>
            <span class="badge bg-success">Concluído</span> <!-- Status da estratégia -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Gráficos (exibidos se 'currentView' for 'dashboard') -->
  <div class="row mt-3" *ngIf="currentView === 'dashboard'">
    <div class="col-md-12">
      <!-- Aqui você pode adicionar gráficos -->
      <div id="chart"></div>
    </div>
  </div>

  <!-- Dashboard Streamlit (exibido se 'currentView' for 'dashboard') -->
  <div class="row mt-3" *ngIf="currentView === 'dashboard'">
    <div class="col-md-12">
      <iframe src="https://monitora-pne-dashboard-plano-acao-386059856247.us-central1.run.app/" width="100%" height="600" frameborder="0"></iframe>
    </div>
  </div>
</div>
